
<div class="w-100 text-center">
    <button class="btn btn-primary" *ngIf="user.role == 'HR'" (click)="doAdd()">Add new user(temporary password)</button>

    <h1 [hidden]="loading == 0">Loading...</h1>
</div>

<table class="table table-striped table-hover table-dark">
    <thead>
        <tr>
            <th>Full name</th>
            <th>Role</th>
            <th>Confirmed</th>
            <th>Username</th>
            <th>Address</th>
            <th>Phone</th>
            <th *ngIf="user.role == 'HR'">Edit</th>
            <th *ngIf="user.role == 'HR'">Delete</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let u of users">
            <td>{{u.name}}</td>
            <td>{{u.role}}</td>
            <td>{{u.isConfirmed}}</td>
            <td>{{u.username}}</td>
            <td>{{u.address}}</td>
            <td>{{u.phone}}</td>
            <td *ngIf="user.role == 'HR'"><button (click)='doEdit(u)'>Edit</button></td>
            <td *ngIf="user.role == 'HR'"><button (click)='doDelete(u.id)'>Delete</button></td>
        </tr>
    </tbody>
</table>

<table *ngIf="target !== null">
    <tr>
        <td>Username</td>
        <td><input class='form-control' type='text' [ngModelOptions]='{standalone: true}' [(ngModel)]='target.username'>
        </td>
    </tr>
    <tr>
        <td>Full name</td>
        <td><input class='form-control' type='text' [ngModelOptions]='{standalone: true}' [(ngModel)]='target.name'>
        </td>
    </tr>
    <tr>
        <td>Role</td>
        <td>
            <label for="role">Role:</label>
            <select class="form-control" [ngModelOptions]='{standalone: true}' [(ngModel)]='target.role'>
                <option *ngFor="let role of roles" [value]="role" [selected]="(user.role == role)?'selected':''">{{ role }}</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Confirmed</td>
        <td><input class='form-check-input' type='checkbox' [ngModelOptions]='{standalone: true}'
                [(ngModel)]='target.isConfirmed'></td>
    </tr>
    <tr>
        <td>Address</td>
        <td><input class='form-control' type='text' [ngModelOptions]='{standalone: true}' [(ngModel)]='target.address'>
        </td>
    </tr>
    <tr>
        <td>Phone</td>
        <td><input class='form-control' type='tel' [ngModelOptions]='{standalone: true}' [(ngModel)]='target.phone'>
        </td>
    </tr>

    <tr>
        <td>
            <button (click)="perform()">{{operation}}</button>
        </td>
    </tr>
</table>